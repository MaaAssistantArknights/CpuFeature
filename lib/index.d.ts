type CpuFeature =
  | "mmx"
  | "x64"
  | "abm"
  | "rdrand"
  | "rdseed"
  | "bmi1"
  | "bmi2"
  | "adx"
  | "mpx"
  | "prefetchw"
  | "prefetchwt1"
  | "rdpid"
  | "sse"
  | "sse2"
  | "sse3"
  | "ssse3"
  | "sse41"
  | "sse42"
  | "sse4a"
  | "aes"
  | "sha"
  | "avx"
  | "xop"
  | "fma3"
  | "fma4"
  | "avx2"
  | "avx512f"
  | "avx512cd"
  | "avx512pf"
  | "avx512er"
  | "avx512vl"
  | "avx512bw"
  | "avx512dq"
  | "avx512ifma"
  | "avx512vbmi"
  | "avx512vpopcntdq"
  | "avx5124fmaps"
  | "avx5124vnniw"
  | "avx512vnni"
  | "avx512bf16"
  | "avx512vbmi2"
  | "gfni"
  | "vaes"
  | "avx512vpclmul"
  | "avx512bitalg"

type FeatureReport = {
  [K in CpuFeature]: boolean
}

export const GetFeatures: () => FeatureReport